root@vmss-a100000005:~# /usr/local/mpi/bin/mpirun -allow-run-as-root -np 16 --bind-to numa -hostfile /root/hosts.txt -x MSCCLPP_DEBUG=WARN -x LD_LIBRARY_PATH=/root/mscclpp-public/build:$LD_LIBRARY_PATH -mca pml ob1 -mca btl ^openib -mca btl_tcp_if_include eth0 -x NCCL_IB_PCI_RELAXED_ORDERING=1 -x NCCL_SOCKET_IFNAME=eth0 -x CUDA_DEVICE_ORDER=PCI_BUS_ID -x NCCL_NET_GDR_LEVEL=5 -x NCCL_TOPO_FILE=/topo.xml -x NCCL_NET_PLUGIN=none -x NCCL_IB_DISABLE=0 -x NCCL_MIN_NCHANNELS=32 -x NCCL_DEBUG=WARN -x NCCL_P2P_DISABLE=0 -x NCCL_SHM_DISABLE=0 -x MSCCLPP_HOME=/root/mscclpp-public -np 16 -npernode 8 python3 /root/mscclpp-public/python/test/pipeline_expt_2_node.py
tree_file=symmetric/sym_split_IB20_NV300_bw_k_1_320
####################################################### Allgather #######################################################
nranks=16
k=6
check_iters=0, warmup_iters=100, iters=100
KERNEL_FILE=pipeline_kernel.cu, BENCH_METHOD=2

             size(B)        send_size(B)        avg_time(us)        min_time(us)     avg_algbw(GB/s)     max_algbw(GB/s)
                1536               65536              162.94              162.94                0.01                0.01
                1536              131072              162.92              162.92                0.01                0.01
                1536              262144              162.58              162.58                0.01                0.01
                1536              524288              162.24              162.24                0.01                0.01
                1536             1048576              161.53              161.53                0.01                0.01
                1536             2097152              156.29              156.29                0.01                0.01
                3072               65536              156.71              156.71                0.02                0.02
                3072              131072              155.22              155.22                0.02                0.02
                3072              262144              155.69              155.69                0.02                0.02
                3072              524288              155.37              155.37                0.02                0.02
                3072             1048576              157.86              157.86                0.02                0.02
                3072             2097152              164.24              164.24                0.02                0.02
                6144               65536              154.78              154.78                0.04                0.04
                6144              131072              155.35              155.35                0.04                0.04
                6144              262144              198.52              198.52                0.03                0.03
                6144              524288              155.54              155.54                0.04                0.04
                6144             1048576              155.40              155.40                0.04                0.04
                6144             2097152              159.47              159.47                0.04                0.04
               12288               65536              155.58              155.58                0.08                0.08
               12288              131072              188.56              188.56                0.07                0.07
               12288              262144              164.72              164.72                0.07                0.07
               12288              524288              212.19              212.19                0.06                0.06
               12288             1048576              155.66              155.66                0.08                0.08
               12288             2097152              237.55              237.55                0.05                0.05
               24576               65536              155.46              155.46                0.16                0.16
               24576              131072              299.29              299.29                0.08                0.08
               24576              262144              251.51              251.51                0.10                0.10
               24576              524288              154.85              154.85                0.16                0.16
               24576             1048576              155.08              155.08                0.16                0.16
               24576             2097152              155.11              155.11                0.16                0.16
               49152               65536              182.28              182.28                0.27                0.27
               49152              131072              460.53              460.53                0.11                0.11
               49152              262144              580.55              580.55                0.08                0.08
               49152              524288              354.97              354.97                0.14                0.14
               49152             1048576              435.15              435.15                0.11                0.11
               49152             2097152              277.38              277.38                0.18                0.18
               98304               65536              155.73              155.73                0.63                0.63
               98304              131072              155.76              155.76                0.63                0.63
               98304              262144              155.05              155.05                0.63                0.63
               98304              524288              155.68              155.68                0.63                0.63
               98304             1048576              155.24              155.24                0.63                0.63
               98304             2097152              155.48              155.48                0.63                0.63
              196608               65536              155.65              155.65                1.26                1.26
              196608              131072              155.94              155.94                1.26                1.26
              196608              262144              155.80              155.80                1.26                1.26
              196608              524288              156.11              156.11                1.26                1.26
              196608             1048576              156.09              156.09                1.26                1.26
              196608             2097152              156.73              156.73                1.25                1.25
              393216               65536              162.02              162.02                2.43                2.43
              393216              131072              161.87              161.87                2.43                2.43
              393216              262144              161.91              161.91                2.43                2.43
              393216              524288              161.95              161.95                2.43                2.43
              393216             1048576              162.17              162.17                2.42                2.42
              393216             2097152              161.84              161.84                2.43                2.43
              786432               65536              164.82              164.82                4.77                4.77
              786432              131072              164.73              164.73                4.77                4.77
              786432              262144              164.73              164.73                4.77                4.77
              786432              524288              164.76              164.76                4.77                4.77
              786432             1048576              164.84              164.84                4.77                4.77
              786432             2097152              165.07              165.07                4.76                4.76
             1572864               65536              170.77              170.77                9.21                9.21
             1572864              131072              170.46              170.46                9.23                9.23
             1572864              262144              170.25              170.25                9.24                9.24
             1572864              524288              170.94              170.94                9.20                9.20
             1572864             1048576              171.71              171.71                9.16                9.16
             1572864             2097152              170.50              170.50                9.23                9.23
             3145728               65536              184.83              184.83               17.02               17.02
             3145728              131072              183.44              183.44               17.15               17.15
             3145728              262144              183.75              183.75               17.12               17.12
             3145728              524288              183.31              183.31               17.16               17.16
             3145728             1048576              183.16              183.16               17.17               17.17
             3145728             2097152              183.01              183.01               17.19               17.19
             6291456               65536              209.66              209.66               30.01               30.01
             6291456              131072              206.45              206.45               30.47               30.47
             6291456              262144              203.90              203.90               30.86               30.86
             6291456              524288              209.25              209.25               30.07               30.07
             6291456             1048576              205.64              205.64               30.59               30.59
             6291456             2097152              206.23              206.23               30.51               30.51
            12582912               65536              265.20              265.20               47.45               47.45
            12582912              131072              255.07              255.07               49.33               49.33
            12582912              262144              255.30              255.30               49.29               49.29
            12582912              524288              259.10              259.10               48.56               48.56
            12582912             1048576              253.80              253.80               49.58               49.58
            12582912             2097152              256.77              256.77               49.00               49.00
            25165824               65536              386.99              386.99               65.03               65.03
            25165824              131072              342.48              342.48               73.48               73.48
            25165824              262144              353.90              353.90               71.11               71.11
            25165824              524288              749.79              749.79               33.56               33.56
            25165824             1048576              348.16              348.16               72.28               72.28
            25165824             2097152              442.60              442.60               56.86               56.86
            50331648               65536              740.09              740.09               68.01               68.01
            50331648              131072              664.99              664.99               75.69               75.69
            50331648              262144              603.27              603.27               83.43               83.43
            50331648              524288              566.86              566.86               88.79               88.79
            50331648             1048576              760.64              760.64               66.17               66.17
            50331648             2097152              649.18              649.18               77.53               77.53
           100663296               65536             1328.72             1328.72               75.76               75.76
           100663296              131072              942.76              942.76              106.78              106.78
           100663296              262144              740.72              740.72              135.90              135.90
           100663296              524288              714.09              714.09              140.97              140.97
           100663296             1048576             1022.55             1022.55               98.44               98.44
           100663296             2097152             1020.43             1020.43               98.65               98.65
           201326592               65536             2345.76             2345.76               85.83               85.83
           201326592              131072             1649.94             1649.94              122.02              122.02
           201326592              262144             1297.21             1297.21              155.20              155.20
           201326592              524288             7616.28             7616.28               26.43               26.43
           201326592             1048576             2006.14             2006.14              100.36              100.36
           201326592             2097152             2706.03             2706.03               74.40               74.40
           402653184               65536             6302.40             6302.40               63.89               63.89
           402653184              131072            11477.37            11477.37               35.08               35.08
           402653184              262144             2518.94             2518.94              159.85              159.85
           402653184              524288             2045.26             2045.26              196.87              196.87
           402653184             1048576             2039.52             2039.52              197.43              197.43
           402653184             2097152             2458.01             2458.01              163.81              163.81
           805306368               65536             9066.92             9066.92               88.82               88.82
           805306368              131072             6212.02             6212.02              129.64              129.64
           805306368              262144             4869.06             4869.06              165.39              165.39
           805306368              524288             3833.28             3833.28              210.08              210.08
           805306368             1048576             3651.41             3651.41              220.55              220.55
           805306368             2097152             3907.75             3907.75              206.08              206.08
          1610612736               65536            18025.48            18025.48               89.35               89.35
          1610612736              131072            12310.66            12310.66              130.83              130.83
          1610612736              262144             9598.60             9598.60              167.80              167.80
          1610612736              524288             7411.24             7411.24              217.32              217.32
          1610612736             1048576             6584.67             6584.67              244.60              244.60
          1610612736             2097152             6870.46             6870.46              234.43              234.43
          3221225472               65536            35934.71            35934.71               89.64               89.64
          3221225472              131072            24465.63            24465.63              131.66              131.66
          3221225472              262144            19033.36            19033.36              169.24              169.24
          3221225472              524288            14510.51            14510.51              221.99              221.99
          3221225472             1048576            12471.60            12471.60              258.28              258.28
          3221225472             2097152            12744.63            12744.63              252.75              252.75